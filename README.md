# july-spring-fullstack

# 설명
[VISIJEJU TOUR INFO OPEN API](https://www.visitjeju.net/kr/visitjejuapi)를 사용한 제주도 관광지 정보 검색 서비스입니다.

# 목표
프로젝트를 통해 DB서버의 데이터를 관리, 스프링 웹 서비스, 예외처리, Git 협업을 사용하며 배운 점을 활용해보려한다.

# 기술 스택
<img src="https://img.shields.io/badge/CSS3-1572B6?style=flat-square&logo=CSS3&logoColor=white"/></a> <img src="https://img.shields.io/badge/HTML5-E34F26?style=flat-square&logo=HTML5&logoColor=white"/></a> <img src="https://img.shields.io/badge/JavaScript-F7DF1E?style=flat-square&logo=JavaScript&logoColor=white"/> <img src="https://img.shields.io/badge/Java-007396?style=flat-square&logo=Java&logoColor=white"/> <img src="https://img.shields.io/badge/MySQL-4479A1?style=flat-square&logo=MySQL&logoColor=white"/> <img src="https://img.shields.io/badge/Spring-6DB33F?style=flat-square&logo=Spring&logoColor=white"/> <img src="https://img.shields.io/badge/Spring Boot-6DB33F?style=flat-square&logo=Spring Boot&logoColor=white"/>
<img src="https://img.shields.io/badge/Spring Data JPA-6DB33F?style=flat-square&logo=Spring Boot&logoColor=white"/>
<img src="https://img.shields.io/badge/Spring Security-6DB33F?style=flat-square&logo=Spring Security&logoColor=white"/>

# Configuration
```
📦 july-spring-fullstack
└─ src
   └─ main
      ├─ java
      │  └─ kr
      │     └─ pe
      │        └─ july
      │           ├─ JulySpringFullstackApplication.java
      │           ├─ ServletInitializer.java
      │           ├─ auth
      │           │  ├─ AuthenticationFailureHandlerImp.java
      │           │  ├─ AuthenticationProviderImp.java
      │           │  ├─ AuthenticationSuccessHandlerImp.java
      │           │  ├─ UserDetailsImp.java
      │           │  └─ UserDetailsServiceImp.java
      │           ├─ config
      │           │  ├─ SecurityConfig.java
      │           │  └─ SwaggerConfig.java
      │           ├─ controller
      │           │  ├─ AuthController.java
      │           │  ├─ LikeController.java
      │           │  ├─ SearchController.java
      │           │  ├─ TemplateController.java
      │           │  └─ UserController.java
      │           ├─ exception
      │           │  ├─ DuplicateUserException.java
      │           │  ├─ GlobalExceptionHandler.java
      │           │  └─ SearchResultNotFoundException.java
      │           └─ model
      │              ├─ dto
      │              │  ├─ LikeDTO.java
      │              │  ├─ SpotDTO.java
      │              │  └─ UserCreateForm.java
      │              ├─ entity
      │              │  ├─ Like.java
      │              │  ├─ Spot.java
      │              │  └─ User.java
      │              ├─ repository
      │              │  ├─ LikeRepository.java
      │              │  ├─ SpotRepository.java
      │              │  └─ UserRepository.java
      │              └─ service
      │                 ├─ LikeService.java
      │                 ├─ SpotService.java
      │                 └─ UserService.java
      └─ resources
         ├─ application.properties
         ├─ static
         │  ├─ 1.css
         │  ├─ 3.css
         │  ├─ login.css
         │  ├─ signup.css
         │  └─ snsbtn.css
         └─ templates
            ├─ index.html
            ├─ login_form.html
            └─ signup_form.html
```
©generated by [Project Tree Generator](https://woochanleee.github.io/project-tree-generator)

# Tables
## :pushpin: ER Diagram
![er다이어그램](https://user-images.githubusercontent.com/105186724/180355670-64009878-2445-4efd-ab30-f19d5ecdb429.png)
&nbsp;
## :pushpin: user table
```sql
CREATE TABLE user(
    user_name   VARCHAR(50)     PRIMARY KEY,
    pw          VARCHAR(100)    NOT NULL,
    role        VARCHAR(10)     NOT NULL
);
```
&nbsp;
## :pushpin: spot table
```sql
CREATE TABLE spot(
    spot_id     INT PRIMARY KEY AUTO_INCREMENT,
    tag         VARCHAR(100) NOT NULL,
    title       VARCHAR(100) NOT NULL,
    address     VARCHAR(100) NOT NULL,
    intro       VARCHAR(500) NOT NULL,
    imgpath     VARCHAR(100) NOT NULL
);
```
&nbsp;
## :pushpin: pick table
```sql
CREATE TABLE pick(
    pick_id     INT PRIMARY KEY AUTO_INCREMENT,
    user_name   VARCHAR(50) NOT NULL,
    spot_id     INT         NOT NULL,

    CONSTRAINT fk_spot_id_spot FOREIGN KEY (spot_id) REFERENCES spot(spot_id)
);
```

# 주요 기능

## 회원 가입
* 이메일과 패스워드로 회원 가입이 가능합니다.

### :computer: 회원 가입 페이지 이동
<img width="696" alt="Signup1" src="https://user-images.githubusercontent.com/23309630/180350771-846a4a7a-cd57-435f-a340-86429567f99f.png">

### :computer: 회원 가입 페이지
<img width="696" alt="Signup2" src="https://user-images.githubusercontent.com/23309630/180351288-3616186f-8963-441c-9690-3dcf3e924595.png">

## 로그인 및 로그 아웃
* Spring Security를 활용해 구현한 로그인 및 로그 아웃 기능입니다.

```
Spring Security는 applicaiton에 인증과 권한 부여 기능을 제공하는 Spring 프레임워크입니다.
```

### :computer: 로그인 페이지 이동 및 로그 아웃
<img width="1275" alt="Home" src="https://user-images.githubusercontent.com/23309630/180347460-0ac03439-d4a5-4948-9b4b-7fd2660c1de7.png">

### :computer: 로그인 페이지
<img width="696" alt="Login" src="https://user-images.githubusercontent.com/23309630/180347569-ed47e8ed-8203-4b68-a8aa-c838d46b073d.png">

## 검색
1. tag로 검색
![tag](https://user-images.githubusercontent.com/91239404/180363894-00bb1578-7706-404f-85d0-0655aecc1587.png)
2. title로 검색
![title](https://user-images.githubusercontent.com/91239404/180363899-f1b6e810-c717-4d6a-9697-27e2cbd58332.png)
3. 예외처리
<img width="362" alt="예외" src="https://user-images.githubusercontent.com/91239404/180363905-bcc6225e-10e0-4054-b6ed-208cbd7ee8d8.PNG">

## 좋아요
1. like 버튼 클릭
![20220722_122124953](https://user-images.githubusercontent.com/105186724/180356311-543c813c-8ad3-4ef3-9ac5-b79e248b9bb8.png)
&nbsp;
2. 선택한 사진의 데이터 출력
![20220722_114514](https://user-images.githubusercontent.com/105186724/180356697-3413d5ec-e38c-4563-87e7-311576fc86dd.png)

# Issue
## :rocket: Like entity와 Spot entity간 순환 참조 발생

## :rocket: Jackson 직렬화 오류

## :rocket: 좋아요 요청과 처리 오류

# Reference
* [VISIJEJU TOUR INFO OPEN API](https://www.visitjeju.net/kr/visitjejuapi)

# Team